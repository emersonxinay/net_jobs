{% extends 'base.html' %} {% block content %}
<div class="profile-container">
  <!-- Header del perfil -->
  <div class="profile-header">
    <div class="profile-avatar">
      <i class="fas fa-user-circle"></i>
    </div>
    <h1>{{ user.username }}</h1>
    <p class="profile-subtitle">Gestiona tu información personal</p>
  </div>

  <!-- Mensajes flash -->
  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %}
  <div class="flash-messages">
    {% for category, message in messages %}
    <div class="flash-message {{ category }}">
      <i class="fas fa-info-circle"></i>
      <span>{{ message }}</span>
      <button
        type="button"
        class="close-button"
        onclick="this.parentElement.remove()"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
    {% endfor %}
  </div>
  {% endif %} {% endwith %}

  <!-- Card del perfil -->
  <div class="profile-card">
    <form method="POST">
      <!-- Email -->
      <div class="form-section">
        <div class="input-group">
          <label for="email">
            <i class="fas fa-envelope"></i>
            Correo Electrónico
          </label>
          <input
            type="email"
            id="email"
            name="email"
            value="{{ user.email }}"
            required
          />
        </div>
      </div>

      <!-- Username -->
      <div class="form-section">
        <div class="input-group">
          <label for="username">
            <i class="fas fa-user"></i>
            Nombre de Usuario
          </label>
          <input
            type="text"
            id="username"
            name="username"
            value="{{ user.username }}"
            required
          />
        </div>
      </div>

      <!-- Phone -->
      <div class="form-section">
        <div class="input-group">
          <label for="phone_number">
            <i class="fas fa-phone"></i>
            Teléfono
          </label>
          <input
            type="tel"
            id="phone_number"
            name="phone_number"
            value="{{ user.phone_number }}"
            required
          />
        </div>
      </div>

      <!-- Botón de actualizar -->
      <div class="form-actions">
        <button type="submit" class="update-button">
          <i class="fas fa-save"></i>
          <span>Actualizar Perfil</span>
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
